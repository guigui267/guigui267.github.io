(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],d=0,u=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);h&&h(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==s[i]&&(r=!1)}r&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},o={app:0},s={app:0},a=[];function i(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"889ab092","chunk-43b328f6":"458f58bc"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={about:1,"chunk-43b328f6":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"d2a42473","chunk-43b328f6":"8206fadb"}[e]+".css",s=l.p+r,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var c=a[i],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===s))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){c=u[i],d=c.getAttribute("data-href");if(d===r||d===s)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||s,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[e],h.parentNode.removeChild(h),n(a)},h.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){o[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=s[e]=[t,n]}));t.push(r[2]=a);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=i(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(h);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}s[e]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var h=d;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"10ac":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("ade3"),o=n("5a89"),s=n("ef20"),a=n("34ad"),i=n("8710"),l=n("598d"),c=n("4a8d"),d=n("4721");class u{static createButton(e,t={}){const n=document.createElement("button");function r(){if(void 0===t.domOverlay){var r=document.createElement("div");r.style.display="none",document.body.appendChild(r);var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",38),o.setAttribute("height",38),o.style.position="absolute",o.style.right="20px",o.style.top="20px",o.addEventListener("click",(function(){a.end()})),r.appendChild(o);var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),s.setAttribute("stroke","#fff"),s.setAttribute("stroke-width",2),o.appendChild(s),void 0===t.optionalFeatures&&(t.optionalFeatures=[]),t.optionalFeatures.push("dom-overlay"),t.domOverlay={root:r}}let a=null;async function i(r){r.addEventListener("end",l),e.xr.setReferenceSpaceType("local"),await e.xr.setSession(r),y.EnterAR=!0,n.textContent="停止AR展示",t.domOverlay.root.style.display="",a=r}function l(){a.removeEventListener("end",l),n.textContent="点击进入AR",t.domOverlay.root.style.display="none",y.EnterAR=!1,a=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="点击进入AR",n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.5"},n.onclick=function(){null===a?navigator.xr.requestSession("immersive-ar",t).then(i):a.end()}}function o(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){o(),n.textContent="该设备环境不支持AR"}function a(e){e.style.position="absolute",e.style.bottom="20px",e.style.padding="12px 6px",e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background="rgba(0,0,0,0.1)",e.style.color="#fff",e.style.font="normal 13px sans-serif",e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="999"}if("xr"in navigator)return n.id="ARButton",n.style.display="none",a(n),navigator.xr.isSessionSupported("immersive-ar").then((function(e){e?r():s()})).catch(s),n;{const e=document.createElement("a");return!1===window.isSecureContext?(e.href=document.location.href.replace(/^http:/,"https:"),e.innerHTML="WEBXR需要HTTPS"):(e.href="https://immersiveweb.dev/",e.innerHTML="该设备暂不支持WebXR"),e.style.left="calc(50% - 90px)",e.style.width="180px",e.style.textDecoration="none",a(e),e}}}var h=n("cc82");class p{static createButton(e,t){t&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');const n=document.createElement("button");function r(){let t=null;async function r(r){r.addEventListener("end",o),y.EnterVR=!0,await e.xr.setSession(r),n.textContent="退出VR",t=r}function o(){y.EnterVR=!1,t.removeEventListener("end",o),n.textContent="进入VR",t=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="进入VR",n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.5"},n.onclick=function(){if(null===t){const e={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]};navigator.xr.requestSession("immersive-vr",e).then(r)}else t.end()}}function o(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){o(),n.textContent="当前设备或者环境不支持VR"}function a(e){e.style.position="absolute",e.style.bottom="20px",e.style.padding="12px 6px",e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background="rgba(0,0,0,0.1)",e.style.color="#fff",e.style.font="normal 13px sans-serif",e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="999"}if("xr"in navigator)return n.id="VRButton",n.style.display="none",a(n),navigator.xr.isSessionSupported("immersive-vr").then((function(e){e?r():s()})),n;{const e=document.createElement("a");return!1===window.isSecureContext?(e.href=document.location.href.replace(/^http:/,"https:"),e.innerHTML="WEBXR NEEDS HTTPS"):(e.href="https://immersiveweb.dev/",e.innerHTML="WEBXR NOT AVAILABLE"),e.style.left="calc(50% - 90px)",e.style.width="180px",e.style.textDecoration="none",a(e),e}}}var b=n("0ca5"),m=n("9a3e"),f=n("4b1d"),v=n("32d9"),g=n("360d"),j=n("93e9"),O=n("9ab2"),y={EnterAR:!1,hitTestSource:null,hitTestSourceRequested:!1,EnterVR:!1};class w{constructor(e){Object(r["a"])(this,"EnterAR",!1),Object(r["a"])(this,"sceneAnimationId",null),Object(r["a"])(this,"MoveCursor",!1),Object(r["a"])(this,"materials",{}),Object(r["a"])(this,"darkMaterial",new o["bb"]({color:"black"})),Object(r["a"])(this,"intersected",[]),this.getContainer(e),this.initScene(),this.initRender(),this.initCamera(),this.initARCamera(),this.initControls(),this.initAmbLight(),this.EventListen(),this.Update()}getContainer(e){let t=document.getElementById(e);return this.container=t}initScene(){let e=new o["Eb"];return this.scene=e}initRender(){let e=new o["bc"]({antialias:!0,alpha:!0});return e.setSize(this.container.offsetWidth,this.container.offsetHeight),e.setPixelRatio(window.devicePixelRatio),this.container.appendChild(e.domElement),this.renders=e}RendersShadow(){const e=o["h"];return e}initCamera(){let e=new o["ob"](45,this.container.offsetWidth/this.container.offsetHeight,.1,1e3);return e.position.set(10,10,10),e.lookAt(0,0,0),this.scene.add(e),this.camera=e}initARCamera(){let e=new o["ob"](45,this.container.offsetWidth/this.container.offsetHeight,.01,20);return this.scene.add(e),this.ARcamera=e}initControls(){let e=new d["a"](this.camera,this.renders.domElement);return e.enableDamping=!0,this.control=e}initState(){const e=new s["a"];return this.container.appendChild(e.dom),this.state=e}Update(){this.sceneAnimationId=requestAnimationFrame(this.Update.bind(this)),0==y.EnterAR&&0==y.EnterVR&&(this.state&&this.state.update(),this.control.update(),1!=this.bloommodes?(this.renders.clear(),this.renders.render(this.scene,this.camera)):1==this.bloommodes&&this.UnrealBloomUpdate())}SceneDestory(){cancelAnimationFrame(this.sceneAnimationId),this.scene.traverse(e=>{e.material&&e.material.dispose(),e.geometry&&e.geometry.dispose(),e=null}),this.container.innerHTML="",this.renders.dispose(),this.scene.clear(),this.scene=null,this.renders.forceContextLoss(),this.renders=null,this.camera=null,this.control=null,this.container=null,console.log("场景销毁完成")}EventListen(){window.addEventListener("resize",this.windowResize.bind(this),!1)}windowResize(){this.camera&&(this.camera.aspect=this.container.offsetWidth/this.container.offsetHeight,this.camera.updateProjectionMatrix()),this.renders&&this.renders.setSize(this.container.offsetWidth,this.container.offsetHeight)}initAmbLight(){let e=new o["c"]("#fff",.2);return this.scene.add(e),this.ambientLight=e}axesHelper(e=100){let t=new o["f"](e);return this.scene.add(t),this.axeshelper=t}loadTexture(e){let t=(new o["Rb"]).load(e);return t}loadTexture_Y(e){return new Promise(t=>{(new o["Rb"]).load(e,e=>{e.wrapS=e.wrapT=o["Cb"],t(e)})})}loadSkyBox(e){let t=(new o["r"]).setPath(e).load(["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]);return t}SetMaterial(e,t){if(e){let n=new o["fb"](e);return 1==t&&(n.side=o["v"]),n}}setRawShaderMaterial(e){if(e){const t=new o["zb"](e);return t}}addSpotlight(e="#fff",t=1,n){let r=new o["Mb"](e,t);return 1==n&&(r.castShadow=!0),r}spotHelper(e){let t=new o["Nb"](e);return t}addPointLight(e=16777215,t=1,n=100){let r=new o["qb"](e,t,n);return r}PointlightHelper(e,t=1){let n=new o["rb"](e,t);return n}AddHemisphereLight(e="0xfff",t="0xfff",n=.5){let r=new o["E"](e,t,n);return r}DracoLoaders(e){let t=new b["a"];return t.setDecoderPath(e),t}initRaycaster(){const e=new o["Ab"];return this.raycaster=e}async TextModel(e,t,n){const r=new c["a"];return null==n&&(n="./regular.json"),new Promise(s=>{r.load(n,(function(n){let r=new l["a"](e,{font:n,size:30,height:1,curveSegments:5,bevelEnabled:!0,bevelThickness:5,bevelSize:2,bevelSegments:2}),a=new o["fb"](t),i=new o["ab"](r,a);i.castShadow=!0,s(i)}))})}GetMixer(e){this.mixer=!0;let t=new o["e"](e);return t}SetGroup(){let e=new o["D"];return e}Clocks(){let e=new o["p"];return e}LoadModel(e,t){return new Promise(n=>{let r=null;e.indexOf("gltf")>-1||e.indexOf("glb")>-1?(r=new a["a"],t&&r.setDRACOLoader(t),r.load(e,e=>{e.scene.receiveShadow=!0,n(e)})):e.indexOf("fbx")>-1&&(r=new i["a"],r.load(e,e=>{e.receiveShadow=!0,n(e)}))})}createBox(e,t={color:"#fff"}){const n=new o["k"](e,e,e),r=new o["fb"](t);r.side=o["v"];const s=new o["ab"](n,r);return s}createPlaneGeometry(e=1e3,t=1e3,n=99,r=99){const s=new o["pb"](e,t,n,r);return s}createMesh(e,t){const n=new o["ab"](e,t);return n}Vec3Obj(e,t,n){return new o["Xb"](e,t,n)}Obj3D(){let e=new o["lb"];return e}onSelects(){if(1==this.MoveCursor&&this.reticle.visible){const e=new o["t"](.1,.1,.2,32).translate(0,.1,0),t=new o["db"]({color:16777215*Math.random()}),n=new o["ab"](e,t);n.position.setFromMatrixPosition(this.reticle.matrix),n.scale.y=2*Math.random()+1,this.scene.add(n)}}addAREvent(e="select",t=this.onSelects.bind(this)){this.ARcontroller.addEventListener(e,()=>{t()})}ARreticle(){this.reticle=new o["ab"](new o["Db"](.15,.2,32).rotateX(-Math.PI/2),new o["bb"]),this.reticle.matrixAutoUpdate=!1,this.reticle.visible=!1,this.scene.add(this.reticle)}ARmode(e){"移动光标"==e&&(this.MoveCursor=!0,this.ARreticle()),this.renders.xr.enabled=!0,this.container.appendChild(u.createButton(this.renders,{requiredFeatures:["hit-test"]})),this.ARcontroller=this.renders.xr.getController(0),this.scene.add(this.ARcontroller),this.ARUpdate()}ARUpdate(){this.renders.setAnimationLoop(this.ARDataUpdate.bind(this))}ARDataUpdate(e,t){if(t){const e=this.renders.xr.getReferenceSpace(),n=this.renders.xr.getSession();if(0==y.hitTestSourceRequested&&(console.log(n,"数据s"),n.requestReferenceSpace("viewer").then((function(e){console.log(e,"创建数据"),n.requestHitTestSource({space:e}).then((function(e){console.log(e),y.hitTestSource=e}))})),n.addEventListener("end",(function(){y.hitTestSourceRequested=!1,y.hitTestSource=null})),y.hitTestSourceRequested=!0),y.hitTestSource){const n=t.getHitTestResults(y.hitTestSource);if(1==this.MoveCursor)if(n.length){const t=n[0];this.reticle.visible=!0,this.reticle.matrix.fromArray(t.getPose(e).transform.matrix)}else this.reticle.visible=!1}}1==y.EnterAR&&this.renders.render(this.scene,this.ARcamera)}ARforApple(){this.renders.toneMapping=o["a"],this.renders.outputEncoding=o["cc"];const e=new o["nb"](this.renders);this.scene.environment=e.fromScene(new f["a"],.04).texture,this.appleARExporter=new m["a"]}AppleARButton(e){const t=document.createElement("a");t.rel="ar",t.id="link",t.href="",t.download="asset.usdz",document.body.appendChild(t);const n=document.createElement("img");n.id="button",n.width="100",n.src="./arkit.png",t.appendChild(n),t.style.position="absolute",t.style.bottom="15px",t.style.left="calc(50%-40px)",t.href=URL.createObjectURL(e)}async ARMeshForApple(e){const t=await this.appleARExporter.parse(e),n=new Blob([t],{type:"application/octet-stream"});this.AppleARButton(n)}CreateUV2(e){e.addAttribute("uv2",new o["m"](e.attributes.uv.array,2))}EffectsPass(){const e=new v["a"](this.renders);return this.effectcomposers=e}EffectsPassResize(){this.effectcomposers.setSize(this.container.offsetWidth,this.container.offsetHeight)}EffectsPass2(){const e=new v["a"](this.renders);return this.effectcomposers2=e}Effects2PassResize(){this.effectcomposers2.setSize(this.container.offsetWidth,this.container.offsetHeight)}RenderScenePass(){const e=new j["a"](this.scene,this.camera);return this.renderSceneComposer=e}SceneShaderPASS(){const e=new o["Fb"]({uniforms:{baseTexture:{value:null},bloomTexture:{value:this.effectcomposers.renderTarget2.texture}},vertexShader:"varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",fragmentShader:"uniform sampler2D baseTexture;uniform sampler2D bloomTexture;varying vec2 vUv;void main() { gl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) ); }"}),t=new g["a"](e,"baseTexture");return t.needsSwap=!0,this.Sceneshaderpass=t}BloomLayer(){const e=new o["L"];return e.set(this.Bloom_Scene),this.bloom_Layer=e}UnrealBloomMode(){this.bloommodes=!0,this.Init_Scene=0,this.Bloom_Scene=1,this.renders.toneMapping=o["Bb"],this.EffectsPass(),this.EffectsPass2(),this.RenderScenePass(),this.BloomLayer(),this.bloomPass=new O["a"](new o["Wb"](this.container.offsetWidth,this.container.offsetHeight),1.5,.4,.85),this.bloomPass.threshold=0,this.bloomPass.strength=1.5,this.bloomPass.radius=0,this.effectcomposers.renderToScreen=!1,this.effectcomposers.addPass(this.renderSceneComposer),this.effectcomposers.addPass(this.bloomPass),this.SceneShaderPASS(),this.effectcomposers2.addPass(this.renderSceneComposer),this.effectcomposers2.addPass(this.Sceneshaderpass),this.UnrealBloomUpdate()}UnrealBloomUpdate(){this.scene&&this.scene.traverse(e=>{e.isMesh&&!1===this.bloom_Layer.test(e.layers)&&(this.materials[e.uuid]=e.material,e.material=this.darkMaterial)}),this.effectcomposers.render(),this.scene&&this.scene.traverse(e=>{this.materials[e.uuid]&&(e.material=this.materials[e.uuid],delete this.materials[e.uuid])}),this.effectcomposers2.render()}BloomObjectAdd(e){e.layers.toggle(1)}EnterVR(){this.renders.outputEncoding=o["cc"],this.renders.xr.enabled=!0,this.initVRMovePlane(),this.container.appendChild(p.createButton(this.renders)),this.initVRCamera(),this.initVRControl(),this.VRUpdate()}initVRMovePlane(){this.VRmovePlane=this.Obj3D(),this.VRmovePlane.name="VR移动台",this.VRmovePlane.position.z=2,this.scene.add(this.VRmovePlane)}initVRControl(){this.VRcontroller1=this.renders.xr.getController(0),this.VRcontroller1.addEventListener("selectstart",this.VROnSelectStart.bind(this)),this.VRcontroller1.addEventListener("selected",this.VROnSelectEnd.bind(this)),this.VRcontroller2=this.renders.xr.getController(1),this.VRcontroller2.addEventListener("selectstart",this.VROnSelectStart.bind(this)),this.VRcontroller2.addEventListener("selected",this.VROnSelectEnd.bind(this)),this.VRmovePlane.add(this.VRcontroller1),this.VRmovePlane.add(this.VRcontroller2),this.initVRChooseGroup(),this.initTempMatrix(),this.VRControlModel(),this.initRaycaster()}VRControlModel(){const e=new h["a"];this.controllerGrip1=this.renders.xr.getControllerGrip(0),this.controllerGrip1.add(e.createControllerModel(this.controllerGrip1)),this.VRmovePlane.add(this.controllerGrip1),this.controllerGrip2=this.renders.xr.getControllerGrip(1),this.controllerGrip2.add(e.createControllerModel(this.controllerGrip2)),this.VRmovePlane.add(this.controllerGrip2),this.VRControlLine()}VRControlLine(){const e=(new o["n"]).setFromPoints([new o["Xb"](0,0,0),new o["Xb"](0,0,-1)]),t=new o["M"](e);t.name="VRline",t.scale.z=5,this.controllerGrip1.add(t.clone()),this.controllerGrip2.add(t.clone())}initTempMatrix(){this.tempMatrix=new o["Z"]}initVRChooseGroup(){this.VRchooseGroup=this.SetGroup(),this.VRchooseGroup.name="可以被VR手柄选中的对象",this.scene.add(this.VRchooseGroup)}initVRCamera(){this.VRCamera=new o["ob"](50,this.container.offsetWidth/this.container.offsetHeight,.01,100),this.VRCamera.position.set(0,1.6,3),this.VRmovePlane.add(this.VRCamera)}VROnSelectStart(e){const t=e.target,n=this.getIntersections(t);if(n.length>0){const e=n[0],r=e.object;r.material.emissive.b=1,t.attach(r),t.userData.selected=r}}VROnSelectEnd(e){const t=e.target;if(void 0!==t.userData.selected){const e=t.userData.selected;e.material.emissive.b=0,this.VRchooseGroup.attach(e),t.userData.selected=void 0}}getIntersections(e){return this.tempMatrix.identity().extractRotation(e.matrixWorld),this.raycaster.ray.origin.setFromMatrixPosition(e.matrixWorld),this.raycaster.ray.direction.set(0,0,-1).applyMatrix4(this.tempMatrix),this.raycaster.intersectObjects(this.VRchooseGroup.children)}ObjectBeChoose(e){if(void 0!==e.userData.selected)return;const t=e.getObjectByName("VRline"),n=this.getIntersections(e);if(n.length>0){const e=n[0],r=e.object;r.material.emissive.r=1,this.intersected.push(r),t&&(t.scale.z=e.distance)}else t&&(t.scale.z=5)}ClearObjectBeChoose(){while(this.intersected.length){const e=this.intersected.pop();e.material.emissive.r=0}}VRUpdate(){this.renders.setAnimationLoop(this.VRdataUpdate.bind(this))}VRdataUpdate(){1==y.EnterVR&&(this.ClearObjectBeChoose(),this.ObjectBeChoose(this.VRcontroller1),this.ObjectBeChoose(this.VRcontroller2),this.renders.clear(),this.renders.render(this.scene,this.VRCamera))}powerDesiger(){this.designer={Name:"米大饭",EnglishName:"Wade",blog:"https://blog.csdn.net/weixin_43980651?spm=1010.2135.3001.5343"}}}t["b"]=w},"19ca":function(e,t,n){"use strict";n("828c")},3158:function(e,t,n){},"33f5":function(e,t,n){},"400e":function(e,t,n){e.exports=n.p+"img/VRhouse.dde2109f.png"},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("7a23");const o={class:"common-layout"};function s(e,t,n,s,a,i){const l=Object(r["resolveComponent"])("el-header"),c=Object(r["resolveComponent"])("router-view"),d=Object(r["resolveComponent"])("el-main"),u=Object(r["resolveComponent"])("el-container"),h=Object(r["resolveComponent"])("Hovers");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(l,{class:"titles"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.demoTitle),1)]),_:1}),Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])(({Component:e})=>[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e)))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),Object(r["createVNode"])(h,{onEvent:s.demoChange,class:"buts"},null,8,["onEvent"])])}var a=n("9b64"),i=n.n(a),l=n("400e"),c=n.n(l),d=n("77b9"),u=n.n(d),h=n("f337"),p=n.n(h),b=n("6268"),m=n.n(b),f=n("934e"),v=n.n(f);const g=e=>(Object(r["pushScopeId"])("data-v-def2f49e"),e=e(),Object(r["popScopeId"])(),e),j=Object(r["createTextVNode"])(" 打开 "),O={class:"bak"},y=g(()=>Object(r["createElementVNode"])("img",{src:i.a,alt:"ARdemo"},null,-1)),w=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),V=g(()=>Object(r["createElementVNode"])("h4",null,"AR小房子",-1)),R=[y,w,V],x=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),E=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),S=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),C=g(()=>Object(r["createElementVNode"])("img",{src:c.a,alt:"VRdemo"},null,-1)),A=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),N=g(()=>Object(r["createElementVNode"])("h4",null,"VR案例",-1)),k=[C,A,N],M=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),P=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),_=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),L=g(()=>Object(r["createElementVNode"])("img",{src:u.a,alt:"shaderDemo1"},null,-1)),B=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),T=g(()=>Object(r["createElementVNode"])("h4",null,"shader案例一",-1)),D=[L,B,T],H=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),G=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),U=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),W=g(()=>Object(r["createElementVNode"])("span",null,[Object(r["createElementVNode"])("button",null,[Object(r["createElementVNode"])("a",{href:"http://1.117.26.233:8826/"},[Object(r["createElementVNode"])("img",{src:p.a,alt:"WPGC"}),Object(r["createElementVNode"])("h4",null,"智能工厂")])])],-1)),I=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),z=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),F=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),q=g(()=>Object(r["createElementVNode"])("span",null,[Object(r["createElementVNode"])("button",null,[Object(r["createElementVNode"])("a",{href:"http://1.117.26.233:9188/"},[Object(r["createElementVNode"])("img",{src:m.a,alt:"HZJSC"}),Object(r["createElementVNode"])("h4",null,"城市地图")])])],-1)),X=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),J=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),Y=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),Z=g(()=>Object(r["createElementVNode"])("img",{src:v.a,alt:"猫咪"},null,-1)),K=g(()=>Object(r["createElementVNode"])("h1",null,"关于作者",-1)),Q=[Z,K],$=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),ee=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),te=g(()=>Object(r["createElementVNode"])("br",null,null,-1)),ne=g(()=>Object(r["createElementVNode"])("span",null,[Object(r["createElementVNode"])("button",null,[Object(r["createElementVNode"])("h1",null,"更多demo敬请期待")])],-1));function re(e,t,n,o,s,a){const i=Object(r["resolveComponent"])("el-button"),l=Object(r["resolveComponent"])("router-link"),c=Object(r["resolveComponent"])("el-scrollbar"),d=Object(r["resolveComponent"])("el-drawer");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(i,{type:"primary",style:{"margin-left":"16px"},onClick:t[0]||(t[0]=e=>o.drawer=!0)},{default:Object(r["withCtx"])(()=>[j]),_:1}),Object(r["createVNode"])(d,{modelValue:o.drawer,"onUpdate:modelValue":t[5]||(t[5]=e=>o.drawer=e),title:"导航","with-header":!0,direction:o.direction,size:"20%"},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("div",O,[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("span",null,[Object(r["createVNode"])(l,{to:"/"},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("button",{onClick:t[1]||(t[1]=e=>o.sent("AR房子"))},R)]),_:1})]),x,E,S,Object(r["createElementVNode"])("span",null,[Object(r["createVNode"])(l,{to:"/VR"},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("button",{onClick:t[2]||(t[2]=e=>o.sent("VR小房子"))},k)]),_:1})]),M,P,_,Object(r["createElementVNode"])("span",null,[Object(r["createVNode"])(l,{to:"/shaderCircle"},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("button",{onClick:t[3]||(t[3]=e=>o.sent("第一个shaderDEMO"))},D)]),_:1})]),H,G,U,W,I,z,F,q,X,J,Y,Object(r["createElementVNode"])("span",null,[Object(r["createVNode"])(l,{to:"/about"},{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("button",{onClick:t[4]||(t[4]=e=>o.sent("关于作者"))},Q)]),_:1})]),$,ee,te,ne]),_:1})])]),_:1},8,["modelValue","direction"])])}var oe={setup(e,{emit:t}){const n=e=>{t("event",e)};return{drawer:Object(r["ref"])(!1),direction:Object(r["ref"])("rtl"),sent:n}}},se=(n("6b4d"),n("d959")),ae=n.n(se);const ie=ae()(oe,[["render",re],["__scopeId","data-v-def2f49e"]]);var le=ie,ce={name:"我的Vue页面",components:{Hovers:le},setup(){const e=Object(r["reactive"])({demoTitle:"AR房子",direction:"ltr"}),t=t=>{e.demoTitle=t};return{...Object(r["toRefs"])(e),demoChange:t}}};n("19ca");const de=ae()(ce,[["render",s]]);var ue=de,he=n("6c02"),pe=n("cf05"),be=n.n(pe);const me={class:"home"},fe=Object(r["createElementVNode"])("img",{alt:"Vue logo",src:be.a},null,-1);function ve(e,t,n,o,s,a){const i=Object(r["resolveComponent"])("HelloWorld");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",me,[fe,Object(r["createVNode"])(i,{msg:"Welcome to Your Vue.js App"})])}const ge={class:"hello"},je=Object(r["createStaticVNode"])('<p data-v-b9167eee> For a guide and recipes on how to configure / customize this project,<br data-v-b9167eee> check out the <a href="https://cli.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-cli documentation</a>. </p><h3 data-v-b9167eee>Installed CLI Plugins</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener" data-v-b9167eee>babel</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" target="_blank" rel="noopener" data-v-b9167eee>eslint</a></li></ul><h3 data-v-b9167eee>Essential Links</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Core Docs</a></li><li data-v-b9167eee><a href="https://forum.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Forum</a></li><li data-v-b9167eee><a href="https://chat.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Community Chat</a></li><li data-v-b9167eee><a href="https://twitter.com/vuejs" target="_blank" rel="noopener" data-v-b9167eee>Twitter</a></li><li data-v-b9167eee><a href="https://news.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>News</a></li></ul><h3 data-v-b9167eee>Ecosystem</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://router.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-router</a></li><li data-v-b9167eee><a href="https://vuex.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vuex</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener" data-v-b9167eee>vue-devtools</a></li><li data-v-b9167eee><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-loader</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener" data-v-b9167eee>awesome-vue</a></li></ul>',7);function Oe(e,t,n,o,s,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ge,[Object(r["createElementVNode"])("h1",null,Object(r["toDisplayString"])(n.msg),1),je])}var ye={name:"HelloWorld",props:{msg:String}};n("8497");const we=ae()(ye,[["render",Oe],["__scopeId","data-v-b9167eee"]]);var Ve=we,Re={name:"Home",components:{HelloWorld:Ve}};const xe=ae()(Re,[["render",ve]]);var Ee=xe;function Se(e,t,n,o,s,a){const i=Object(r["resolveComponent"])("TScene");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(i)])}const Ce={id:"WebGL",style:{width:"100%",height:"100%"}};function Ae(e,t,n,o,s,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Ce)}var Ne=n("90b1"),ke=n("10ac"),Me={setup(){let e,t;Object(r["onMounted"])(()=>{e=Ne["a"].service({fullscreen:!0}),t=new ke["b"]("WebGL"),t.camera.position.set(.35,.02,.07),t.camera.lookAt(0,-.1,-.2),t.control.target=t.Vec3Obj(0,-.1,-.2);let n=t.AddHemisphereLight();t.scene.add(n);let r=t.addSpotlight();r.position.y=1;let o=t.Obj3D();t.scene.add(o),o.position.set(0,0,-.2),r.target=o,t.scene.add(r);let s,a=t.createBox(.01,{color:"red"});async function i(){let e=t.SetGroup();e.name="无人机组";let n=t.DracoLoaders("./draco/gltf/"),r=await t.LoadModel("./resources/LittlestTokyo.glb",n),o=await t.LoadModel("./resources/LittlestTokyoForApple.glb");o.scene.scale.set(.1,.1,.1),r.scene.traverse(e=>{e.isMesh&&(e.material=t.SetMaterial({map:e.material.map,emissiveMap:e.material.emissiveMap,metalness:0,roughness:.2}))}),r.scene.rotation.y=Math.PI,r.scene.scale.set(.01,.01,.01),r.scene.position.set(0,.1,0),s=t.GetMixer(r.scene),o.scene.scale.set(.01,.01,.01),e.add(r.scene),e.scale.set(.02,.02,.02),e.position.set(0,-.1,-.2),t.scene.add(e),s.clipAction(r.animations[0]).play();var a=navigator.userAgent;a.indexOf("iPhone")>-1||a.indexOf("Mac")>-1?(t.ARforApple(),t.ARMeshForApple(o.scene)):t.ARmode()}a.position.set(0,0,-.2);let l=t.Clocks();function c(){requestAnimationFrame(c);const e=l.getDelta();s&&s.update(e)}c(),console.log("AR模型文件来源threejs管网案例:https://threejs.org/examples/#webgl_animation_keyframes"),i().then(()=>{e.close()})}),Object(r["onBeforeUnmount"])(()=>{t.SceneDestory()})}};n("ac04");const Pe=ae()(Me,[["render",Ae],["__scopeId","data-v-7f0adc51"]]);var _e=Pe,Le={name:"AR小房子",components:{TScene:_e}};n("76d3");const Be=ae()(Le,[["render",Se],["__scopeId","data-v-442b9fcc"]]);var Te=Be;function De(e,t,n,o,s,a){const i=Object(r["resolveComponent"])("VRscene");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(i)])}const He={id:"WebGL1",style:{width:"100%",height:"100%"}};function Ge(e,t,n,o,s,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",He)}var Ue=n("5c40"),We={setup(){let e,t;Object(Ue["nb"])(()=>{t=Ne["a"].service({fullscreen:!0}),e=new ke["b"]("WebGL1"),e.renders.shadowMap.enabled=!0;const n=e.scene,r=e.addPointLight(16777215,.5,100);r.position.set(0,4.5,2.5),n.add(r);const o=e.addPointLight(16777215,.5,100);o.castShadow=!0,o.shadow.mapSize.width=2048,o.shadow.mapSize.height=2048,o.position.set(0,4.5,-2),n.add(o);const s=e.addPointLight(16777215,.5,100);s.position.set(5,4.5,-2),n.add(s);let a=[];async function i(){const t=await e.LoadModel("./resources/house.glb");t.scene.traverse(t=>{t.isMesh&&("mesh_node011"==t.parent.name?a.push(t):t.material=e.SetMaterial({color:t.material.color,map:t.material.map}),"mesh_node134"==t.name||"mesh_node133"==t.name||"mesh_node132"==t.name?t.castShadow=!1:t.castShadow=!0,t.receiveShadow=!0)}),n.add(t.scene)}i().then(()=>{a[1].material=e.SetMaterial({color:"skyblue",transparent:!0,opacity:.6}),t.close()}),e.EnterVR(),console.log("VR模型文件提供博主首页:https://webgl.blog.csdn.net/")}),Object(Ue["jb"])(()=>{e.SceneDestory(),console.log("场景销毁")})}};const Ie=ae()(We,[["render",Ge]]);var ze=Ie,Fe={name:"VR小demo",components:{VRscene:ze}};n("bd60");const qe=ae()(Fe,[["render",De],["__scopeId","data-v-155e667f"]]);var Xe=qe;const Je=e=>(Object(r["pushScopeId"])("data-v-8d3e75e0"),e=e(),Object(r["popScopeId"])(),e),Ye=Je(()=>Object(r["createElementVNode"])("iframe",{src:"http://1.117.26.233:9188/",frameborder:"0"},null,-1)),Ze=[Ye];function Ke(e,t,n,o,s,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,Ze)}var Qe={};n("c90f");const $e=ae()(Qe,[["render",Ke],["__scopeId","data-v-8d3e75e0"]]);var et=$e;const tt=[{path:"/HOME",name:"Home",component:Ee},{path:"/about",name:"About",component:()=>n.e("about").then(n.bind(null,"f820"))},{path:"/",name:"ARHouse",component:Te},{path:"/VR",name:"VRdemo",component:Xe},{path:"/SmartCity",name:"SmartCity",component:et},{path:"/shaderCircle",name:"ShaderDEMO_1",component:()=>n.e("chunk-43b328f6").then(n.bind(null,"804a"))}],nt=Object(he["a"])({history:Object(he["b"])(),routes:tt});var rt=nt,ot=n("5502"),st=Object(ot["a"])({state:{},mutations:{},actions:{},modules:{}}),at=n("c3a1");n("7437");Object(r["createApp"])(ue).use(at["a"]).use(st).use(rt).mount("#app")},6268:function(e,t,n){e.exports=n.p+"img/JSC.384a6a65.png"},"6b4d":function(e,t,n){"use strict";n("e3c1")},"76d3":function(e,t,n){"use strict";n("baec")},"77b9":function(e,t,n){e.exports=n.p+"img/shaderdemo1.38281427.png"},"828c":function(e,t,n){},8497:function(e,t,n){"use strict";n("3158")},"934e":function(e,t,n){e.exports=n.p+"img/cats.fdb0f670.jpg"},"9b64":function(e,t,n){e.exports=n.p+"img/ARhouse.18644a1d.png"},"9e64":function(e,t,n){},ac04:function(e,t,n){"use strict";n("ba40")},ba40:function(e,t,n){},baec:function(e,t,n){},bd60:function(e,t,n){"use strict";n("9e64")},c90f:function(e,t,n){"use strict";n("33f5")},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},e3c1:function(e,t,n){},f337:function(e,t,n){e.exports=n.p+"img/WP.e8d504c3.png"}});
//# sourceMappingURL=app.90841fed.js.map