import{T as v,P as r,g as d,V as i,m,a as y}from"./examples.5f2b840c.js";import{P}from"./ParticleStore.11fc91f2.js";import{_ as g}from"./plugin-vue_export-helper.21dcd24c.js";import{e as M,f as x,o as T,c as k}from"./index.81b9e2b0.js";let e,a,w,_,u,n;const b={setup(){M(()=>{e=new v("webgl"),h(),f(),window.addEventListener("resize",p,!1),e.axes(),e.wireframePlane(100),e.amblight.intensity=2;const t=e.loadSkyBox("./skyCube/");e.scene.background=t,e.ModelLoad("./Models/train.glb",s=>{s.scene.scale.set(.01,.01,.01),s.scene.position.y=2.2,s.scene.traverse(o=>{o.isMesh&&(o.material.envMap=t,o.material.envMapIntensity=2)}),e.scene.add(s.scene)}),e.ModelLoad("./Models/cannon.glb",s=>{s.scene.scale.set(3,3,3),s.scene.position.set(0,0,-20),s.scene.traverse(o=>{o.isMesh&&(o.material.envMap=t)}),e.scene.add(s.scene)}),l()});const f=()=>{w=new r(d("snow")),w.name="\u96EA",n.addParticle(w),_=new r(d("smoke")),_.name="\u70DF\u96FE",n.addParticle(_),u=new r(d("fire")),u.name="\u70DF\u96FE\u706B",n.addParticle(u),a=new r({shapeType:"sphere",position:new i(0,0,0),positionRadius:.3,velocityShape:"sphere",velocity:new i(0,40,0),acceleration:new i(0,3,0),sizeTween:new m([0,.1,.4],[1,7,1]),opacityTween:new m([.1,.4],[1,0]),colorTween:new m([.1,.4],[new i(.02,1,.5),new i(.05,1,0)]),_texture:new y().load("./textures/smoke.png"),pointDeathAge:.4,_deathAge:10,pointSec:200}),a.name="\u5F00\u706B",a.material.depthTest=!0;let t=0;setInterval(()=>{t==0?(a.velocityShape="cube",a.material.depthTest=!1,t=1):t==1&&(a.velocityShape="sphere",a.material.depthTest=!0,t=0)},4e3),a.mesh.position.set(0,2,-15),a.mesh.rotation.set(Math.PI/2-Math.PI/18,0,0),n.addParticle(a),n.showPanel()};let c=new Date;const l=()=>{const t=new Date,s=(t-c)/1e3;n&&n.update(s),c=t,requestAnimationFrame(l)},p=()=>{e.renderResize()};x(()=>{window.removeEventListener("resize",p,!1),e.destroy()});const h=()=>{n=new P,n.setParent(e.scene),window.man=n}}},S={id:"webgl"};function E(f,c,l,p,h,t){return T(),k("div",S)}var $=g(b,[["render",E],["__scopeId","data-v-4c6e12d6"]]);export{$ as default};
